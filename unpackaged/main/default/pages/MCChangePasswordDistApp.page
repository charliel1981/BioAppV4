<apex:page controller="MCChangePasswordDistAppController" showHeader="false" docType="html-5.0" id="main_page" applyBodyTag="false">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distributor Hub | Biocomposites</title>
  <link REL="SHORTCUT ICON" HREF="{!URLFOR($Resource.community_favicon)}" />
  <apex:stylesheet value="{!URLFOR($Resource.community_login_style)}" />
  <style>
    .changePasswordBgwide {
      float: left;
      width: 690px;
      height: 240px;
      margin: 50px 10px 10px 35px;
      background:url({!$Resource.BiologinImgs}/bioSentnowBg.png) no-repeat;
      background-size: cover;
      padding-right: 40px;
    }

    .enterNamebio {
      padding-left: 5px;
      border-radius: 5px;
      border-color: rgb(255, 255, 255);
      border-style: inset;
      border-width: 2px;
      border-collapse: separate;
    }

    .change-password-wrapper {
      vertical-align: top;
      height: 62px;
      color: #04984f;
    }

    /* on smaller devices, override some of the css stylesheet */

    @media screen and (max-width: 800px) {
      .changePasswordBgwide {
        background: #eee !important;
        margin-left: 10px;
        height: 265px;
        width: calc(100% - 20px);
        border-radius: 5px;
        display: block;
        margin-top: 30px;
        padding: 20px 0 0 0;
      }
      .LeftTextbox input {
        width: calc(100% - 30px);
        border-radius: 5px;
      }
      .LeftTextbox table td {
        height: 50px !important;
      }
      .change-password-wrapper {
        vertical-align: initial;
        padding-top: 35px;
      }
    }
  </style>

  <body onload="onLoading()">
    <div id="loading-msg" class="loading-msg">Loading...</div>

    <div id="loaded" style="display: none" class="page-loaded">
      <apex:form id="main_form" forceSSL="true">
        <apex:outputPanel styleClass="login-wrapp" layout="block" id="main_output">
          <apex:pagemessages id="messages" />

          <!-- ===================== -->
          <!-- change password panel -->
          <!-- ===================== -->
          <apex:outputPanel layout="block" id="changePasswordPanel" styleclass="change-password-panel">
            <div class="bioheader">
              <apex:image value="{!$Resource.BiologinImgs}/bio_logo4.png" />
            </div>
            <div class="logInbanner">
              <apex:image value="{!$Resource.MobileAppLoginImage}" />
            </div>
            <div class="changePasswordBgwide">
              <div class="LeftTextbox">
                <table cellspacing="0">
                  <tr>
                    <td style="vertical-align:top; height:62px;">
                      <apex:inputSecret value="{!newPassword}" id="newpsw" styleclass="enterNamebio" html-placeholder="New password" onkeyup="checkVerifyPassword('{!$Component.newpsw}','{!$Component.vpsw}'); return false;"
                      />
                    </td>
                  </tr>
                  <tr>
                    <td style="vertical-align:top; height:60px;">
                      <apex:inputSecret value="{!verifyNewPassword}" id="vpsw" styleclass="enterNamebio" html-placeholder="Verify new password"
                        onkeyup="checkVerifyPassword('{!$Component.newpsw}','{!$Component.vpsw}'); return false;" />
                    </td>
                  </tr>
                </table>
              </div>
              <div class="RightTextbox">
                <table cellspacing="0">
                  <tr>
                    <td class="change-password-wrapper">
                      <h1 style="font-weight:normal; font-size:34px;">Change password</h1>
                    </td>
                  </tr>
                  <tr>
                    <td style="vertical-align:top; height:60px;">
                      <apex:commandLink action="{!changePassword}" reRender="messages" id="cmndLinkId">
                        <apex:image value="{!$Resource.BiologinImgs}/bioContinue.png" /></apex:commandLink>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </apex:outputPanel>

        </apex:outputPanel>
      </apex:form>
    </div>

    <script>
      function onLoading() {
        document.getElementsByClassName('loading-msg')[0].style.display = 'none';
        document.getElementsByClassName('page-loaded')[0].style.display = 'block';
      }

      function checkVerifyPassword(pass1, pass2) {
        // Get the password eelments
        const newPwd = document.getElementById(pass1);
        const verPwd = document.getElementById(pass2);
        // Make sure confirmation password had been entered
        if (!verPwd.value || verPwd.value.trim() === '') {
          verPwd.style.backgroundColor = '#ffffff';
          return;
        }
        // Compare the values in the password field and the confirmation field
        if (newPwd.value === verPwd.value) {
          // The passwords match.
          verPwd.style.backgroundColor = '#66cc66';
        } else {
          // The passwords do not match.
          verPwd.style.backgroundColor = '#ff6666';
        }
      }
    </script>
  </body>
</apex:page>