<ion-view cache-view="false" hide-back-button="true">
  <ion-nav-title>
    Unsolicited request {{vm.requestTypeTitle}}
  </ion-nav-title>
  <ion-nav-buttons side="right">
    <button ng-show="vm.showCancel" class="ng-hide button button-icon icon ion-android-close" ng-click="vm.cancelRequest()"></button>
  </ion-nav-buttons>

  <ion-content>

    <div ng-switch="vm.step">

      <!-- default -->
      <div ng-switch-default>
        <div class="row row-no-padding responsive-sm">
          <div class="col col-50">
            <ion-list>
              <a class="item item-icon-right bio-list-item-add-gold-line bio-list-item"
                 ng-click="vm.gotoStep('standardstart')">
                Standard request
                <i class="icon ion-ios-arrow-right bio-list-item-icon"></i>
              </a>
              <a class="item item-icon-right bio-list-item-add-gold-line bio-list-item"
                 ng-click="vm.gotoStep('urgentstart')">
                Urgent request
                <i class="icon ion-ios-arrow-right bio-list-item-icon"></i>
              </a>
              <a class="item item-icon-right bio-list-item-add-gold-line bio-list-item"
                 ng-href="#/app/requesthistory">
                History
                <i class="icon ion-ios-arrow-right bio-list-item-icon"></i>
              </a>
            </ion-list>
          </div>
        </div>
      </div> <!-- / default -->

      <!-- standardstart -->
      <div ng-switch-when="standardstart">
        <div>
          <h4 class="bio-sub-heading">Standard request</h4>
        </div>
        <div>
          <p class="bio-text bio-request-text-padding bio-text-padding-top">Explain that the request involves a use of the product that is not currently FDA approved.</p>
          <br />
          <p class="bio-text bio-request-text-padding">To comply with the current FDA guidelines and the manufacturer's policy the request will be routed to Biocomposites' Compliance Unit for response.</p>
          <br />
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('default')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.gotoStep('standardinfo')">Next</button>
          </div>
        </div>
      </div> <!-- / standardstart -->

      <!-- urgentstart -->
      <div ng-switch-when="urgentstart">
        <div>
          <h4 class="bio-sub-heading">Urgent request</h4>
        </div>
        <div>
          <p class="bio-text bio-request-text-padding bio-text-padding-top">Sometimes an urgent response is required e.g. a patient is in surgery.</p>
          <br />
          <p class="bio-text bio-request-text-padding">Respond verbally whenever possibly and within your sphere of knowledge:<br /><span class="bio-italics">"I am aware that Dr X at hospital Y does......"</span></p>
          <br />
          <p class="bio-text bio-request-text-padding">Explain that having provided an urgent response to a request that involves a use of the product that is not currently FDA approved, Biocomposites' Compliance Unit will follow up with a written response.</p>
          <br />
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('default')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.gotoStep('urgentinfo')">Next</button>
          </div>
        </div>
      </div> <!-- / urgentstart -->

      <!-- standardinfo -->
      <div ng-switch-when="standardinfo">
        <div>
          <h4 class="bio-sub-heading">Requested information</h4>
        </div>
        <div class="card bio-card">
          <ul class="bio-bullet-list">
            <li class="bio-text bio-bullet-list-item">Phrase request as closely as possible to the requestor's verbal request.
            </li>
            <li class="bio-text bio-bullet-list-item">Avoid interpretation or over elaboration.
            </li>
          </ul>
          <div class="item item-input-inset bio-card-item bio-padding-bottom-15">
            <textarea ng-model="vm.request.info" rows="5" placeholder="Please ask a precise question..." maxlength="1000" class="bio-card-input-full-width"></textarea>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button ng-show="vm.showBackButton" class="button button-positive bio-button-prev" ng-click="vm.gotoStep('standardstart')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.inputValidation('standardproduct')">Next</button>
          </div>
        </div>
      </div> <!-- / standardinfo -->

      <!-- urgentinfo -->
      <div ng-switch-when="urgentinfo">
        <div>
          <h4 class="bio-sub-heading">Requested information</h4>
        </div>
        <div class="card bio-card">
          <ul class="bio-bullet-list">
            <li class="bio-text bio-bullet-list-item">Phrase request as closely as possible to the requestor's verbal request.
            </li>
            <li class="bio-text bio-bullet-list-item">Avoid interpretation or over elaboration.
            </li>
          </ul>
          <div class="item item-input-inset bio-card-item bio-padding-bottom-15">
            <textarea ng-model="vm.request.info" rows="5" placeholder="Please ask a precise question..." maxlength="1000" class="bio-card-input-full-width"></textarea>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button ng-show="vm.showBackButton" class="button button-positive bio-button-prev" ng-click="vm.gotoStep('urgentstart')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.inputValidation('urgentproduct')">Next</button>
          </div>
        </div>
      </div> <!-- / urgentinfo -->

      <!-- standardproduct -->
      <div ng-switch-when="standardproduct">
        <div>
          <h4 class="bio-sub-heading">Requestor's details</h4>
        </div>
        <div class="card bio-card">
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Select product:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <ion-input class="item item-input item-select bio-item-select-product">
                  <select ng-model="vm.request.product" class="bio-input-select">
                    <option value="STIMULAN">STIMULAN</option>
                    <option value="genex">genex</option>
                  </select>
                </ion-input>
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's name:<span class="bio-card-italics bio-newline">(e.g. Dr Sam Smith)</span></div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="text" ng-model="vm.request.requestorName" placeholder="Requestor's name..." class="bio-card-input-width" maxlength="120" />
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's e-mail:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="email" ng-model="vm.request.requestorEmail" placeholder="Requestor's e-mail..." class="bio-card-input-width" maxlength="255" />
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's institution:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="text" ng-model="vm.request.requestorInstitution" placeholder="Requestor's institution..." class="bio-card-input-width" maxlength="100" />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('standardinfo')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.inputValidation('standarddeadline')">Next</button>
          </div>
        </div>
      </div> <!-- / standardproduct -->

      <!-- urgentproduct -->
      <div ng-switch-when="urgentproduct">
        <div>
          <h4 class="bio-sub-heading">Requestor's details</h4>
        </div>
        <div class="card bio-card">
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Select product:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <ion-input class="item item-input item-select bio-item-select-product">
                  <select ng-model="vm.request.product" class="bio-input-select">
                    <option value="STIMULAN">STIMULAN</option>
                    <option value="genex">genex</option>
                  </select>
                </ion-input>
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's name:<span class="bio-card-italics bio-newline">(e.g. Dr Sam Smith)</span></div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="text" ng-model="vm.request.requestorName" placeholder="Requestor's name..." class="bio-card-input-width" maxlength="120" />
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's e-mail:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="email" ng-model="vm.request.requestorEmail" placeholder="Requestor's e-mail..." class="bio-card-input-width" maxlength="250" />
              </div>
            </div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom bio-row-padding-top">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Requestor's institution:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <input type="text" ng-model="vm.request.requestorInstitution" placeholder="Requestor's institution..." class="bio-card-input-width" maxlength="100" />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('urgentinfo')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-next" ng-click="vm.inputValidation('urgentdeadline')">Next</button>
          </div>
        </div>
      </div> <!-- / urgentproduct -->

      <!-- standarddeadline -->
      <div ng-switch-when="standarddeadline">
        <div>
          <h4 class="bio-sub-heading">Response deadline</h4>
        </div>
        <div class="card bio-card">
          <div class="item-input-inset">
            <div class="bio-label">Biocomposites' Compliance Unit will respond directly to the customer.</div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Target response date:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <ion-input class="item item-input bio-no-padding">
                  <input type='date' ng-model="vm.request.responseDate" required min="{{vm.today | date:'yyyy-MM-dd'}}"
                  ng-model-options="{ timezone: 'UTC' }" />
                </ion-input>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('standardproduct')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-submit" ng-click="vm.inputValidation('submitstandard')">Submit</button>
          </div>
        </div>
      </div> <!-- / standarddeadline -->

      <!-- urgentdeadline -->
      <div ng-switch-when="urgentdeadline">
        <div>
          <h4 class="bio-sub-heading">Response deadline</h4>
        </div>
        <div class="card bio-card">
          <div class="item-input-inset">
            <div class="bio-label">Please forward any correspondence to Biocomposites' Compliance Unit who will follow up your request with a written response.</div>
          </div>
          <div class="row responsive-sm row-no-padding bio-row-padding-bottom">
            <div class="col col-25 bio-no-margin">
              <div class="item-input-inset">
                <div class="bio-text">Target response date:</div>
              </div>
            </div>
            <div class="col col-75 bio-no-margin">
              <div class="item item-input-inset bio-card-item">
                <ion-input class="item item-input bio-no-padding">
                  <input type='date' ng-model="vm.request.responseDate" required min="{{vm.today | date:'yyyy-MM-dd'}}"
                  ng-model-options="{ timezone: 'UTC' }" />
                </ion-input>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col col-50 text-right">
            <button class="button button-positive bio-button-prev" ng-click="vm.gotoStep('urgentproduct')">Back</button>
          </div>
          <div class="col col-50 text-left">
            <button class="button button-positive bio-button-submit" ng-click="vm.inputValidation('submiturgent')">Submit</button>
          </div>
        </div>
      </div> <!-- / urgentdeadline -->

    </div>

  </ion-content>
</ion-view